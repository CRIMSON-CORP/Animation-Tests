<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        box-sizing: border-box;
      }

      :root {
        --spring-easing: linear(
          0,
          0.001,
          0.002 0.4%,
          0.009,
          0.02,
          0.036 1.7%,
          0.083,
          0.149 3.7%,
          0.297 5.5%,
          0.626 9.1%,
          0.761,
          0.884,
          0.983,
          1.063 15.2%,
          1.096,
          1.124,
          1.148,
          1.167,
          1.181,
          1.192 19.8%,
          1.196,
          1.198,
          1.199,
          1.199,
          1.198,
          1.195 22.8%,
          1.185 24%,
          1.172 25%,
          1.154 26.2%,
          1.054 31.7%,
          1.031,
          1.011 34.6%,
          0.993,
          0.978 37.7%,
          0.968 39.4%,
          0.965,
          0.962 41%,
          0.961,
          0.96,
          0.961,
          0.963 45.4%,
          0.969 47.7%,
          0.989 53.1%,
          0.997 55.8%,
          1.004,
          1.007 61.9%,
          1.008 64.2%,
          1.007 66.8%,
          1.001 76.9%,
          0.999,
          0.998 88%,
          1
        );
        --spring-duration: 1s;
        --checked: oklch(0.75 0.32 145.3);
        --unchecked: oklch(0.65 0.3 29.61);
      }
      body {
        margin: 0;
        padding: 0;
        display: grid;
        place-items: center;
        min-height: 100vh;
        background-color: color-mix(in srgb, var(--unchecked) 5%, transparent);
        transition: background-color ease-out 500ms;
        &:has(#check:checked) {
          background-color: color-mix(in srgb, var(--checked) 5%, transparent);
        }
        color: var(--unchecked);
      }

      label {
        display: grid;
        grid-template-columns: 1fr 1fr;
        position: relative;
        padding: 6px;
        background-color: var(--unchecked);
        border-radius: 99px;
        cursor: pointer;
        transition: transform var(--spring-easing) var(--spring-duration),
          background-color ease-out 300ms, box-shadow ease-out 300ms;

        box-shadow: 0px 10px 10px
          color-mix(in srgb, var(--unchecked) 30%, transparent);

        &:has(#check:checked) {
          background-color: var(--checked);
          box-shadow: 0px 10px 10px
            color-mix(in srgb, var(--checked) 30%, transparent);
        }

        &:active {
          transform: scale(0.9);
        }

        input {
          position: absolute;
          top: 50%;
          left: 50%;
          visibility: hidden;
        }

        svg {
          overflow: visible;
          transition: transform var(--spring-easing) var(--spring-duration);
          path {
            transition: d var(--spring-easing) var(--spring-duration) 150ms;
            d: path(
              "M 29 16 C 29 23.18 23.18 29 16 29 C 8.82 29 3 23.18 3 16 C 3 8.82 8.82 3 16 3 C 23.18 3 29 8.82 29 16 Z"
            );
          }
        }

        input:checked + svg {
          transform: translateX(100%);
          path {
            d: path(
              "M 16 16 C 16 23.18 15.9 29 16 29 C 16.1 29 16 23.18 16 16 C 16 8.82 16.1 3 16 3 C 15.9 3 16 8.82 16 16 Z"
            );
          }
        }
      }
    </style>
  </head>
  <body>
    <label for="check">
      <input type="checkbox" name="check" id="check" />
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 32 32"
        xmlns:bx="https://boxy-svg.com"
        width="32"
        height="32"
      >
        <path
          d="M 29 16 C 29 23.18 23.18 29 16 29 C 8.82 29 3 23.18 3 16 C 3 8.82 8.82 3 16 3 C 23.18 3 29 8.82 29 16 Z"
          style="stroke: rgb(255, 255, 255); stroke-width: 5px; fill: none"
        ></path>
      </svg>
    </label>
  </body>
</html>
